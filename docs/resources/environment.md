---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "env0_environment Resource - terraform-provider-env0"
subcategory: ""
description: |-
  
---

# env0_environment (Resource)



## Example Usage

```terraform
data "env0_template" "example" {
  name = "Template Name"
}

data "env0_project" "default_project" {
  name = "Default Organization Project"
}

resource "env0_environment" "example" {
  name        = "environment"
  project_id  = data.env0_project.default_project.id
  template_id = data.env0_template.example.id
}

resource "env0_environment" "example_with_hcl_configuration" {
  name        = "environment with hcl"
  project_id  = data.env0_project.default_project.id
  template_id = data.env0_template.example.id

  configuration {
    name          = "TEST1234"
    type          = "terraform"
    value         = <<EOF
      {
        a = "world11111"
        b = {
          c = "d"
        }
      }
    EOF
    schema_format = "HCL"
  }
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `name` (String) the environment's name
- `project_id` (String) project id of the environment

### Optional

- `approve_plan_automatically` (Boolean) should deployments require manual approvals
- `auto_deploy_by_custom_glob` (String) redeploy on file filter pattern.
When used 'auto_deploy_on_path_changes_only' must be configured to true and 'deploy_on_push' or 'run_plan_on_pull_requests' must be configured to true.
- `auto_deploy_on_path_changes_only` (Boolean) redeploy only on path changes only
- `configuration` (Block List) terraform and environment variables for the environment. Note: do not use with 'env0_configuration_variable' resource (see [below for nested schema](#nestedblock--configuration))
- `deploy_on_push` (Boolean) should run terraform deploy on push events.
If true must specify one of the following - 'github_installation_id' if using GitHub, 'gitlab_project_id' and 'token_id' if using GitLab, or 'bitbucket_client_key' if using BitBucket.
- `drift_detection_cron` (String) cron expression for scheduled drift detection of the environment (cannot be used with resource_drift_detection resource)
- `force_destroy` (Boolean) Destroy safeguard. Must be enabled before delete/destroy
- `id` (String) the environment's id
- `is_inactive` (Boolean) If 'true', it marks the environment as inactive. It can be re-activated by setting it to 'false' or removing this field.
- `is_remote_apply_enabled` (Boolean) enables remote apply when set to true (defaults to false). Can only be enabled when is_remote_backend and approve_plan_automatically are enabled. Can only enabled for an existing environment
- `is_remote_backend` (Boolean) should use remote backend
- `output` (String) the deployment log output. Returns a json string. It can be either a map of key-value, or an array of (in case of Terragrunt run-all) of moduleName and a map of key-value. Note: if the deployment is still in progress returns 'null'
- `revision` (String) the revision the environment is to be run against
- `run_plan_on_pull_requests` (Boolean) should run terraform plan on pull requests creations.
If true must specify one of the following - 'github_installation_id' if using GitHub, 'gitlab_project_id' and 'token_id' if using GitLab, or 'bitbucket_client_key' if using BitBucket.
- `sub_environment_configuration` (Block List) the subenvironments for a workflow enviornment. Template type must be 'workflow'. Must match the configuration as defined in 'env0.workflow.yml' (see [below for nested schema](#nestedblock--sub_environment_configuration))
- `template_id` (String) the template id the environment is to be created from.
Important note: the template must first be assigned to the same project as the environment (project_id). Use 'env0_template_project_assignment' to assign the template to the project. In addition, be sure to leverage 'depends_on' if applicable.
- `terragrunt_working_directory` (String) The working directory path to be used by a Terragrunt template. If left empty '/' is used.
- `ttl` (String) the date the environment should be destroyed at (iso format). omitting this attribute will result in infinite ttl.
- `vcs_commands_alias` (String) set an alias for this environment in favor of running VCS commands using PR comments against it. Additional details: https://docs.env0.com/docs/plan-and-apply-from-pr-comments
- `without_template_settings` (Block List, Max: 1) settings for creating an environment without a template. Is not imported when running the import command (see [below for nested schema](#nestedblock--without_template_settings))
- `workspace` (String) the terraform workspace of the environment

### Read-Only

- `deployment_id` (String) id of the last deployment

<a id="nestedblock--configuration"></a>
### Nested Schema for `configuration`

Required:

- `name` (String) variable name
- `value` (String) variable value

Optional:

- `description` (String) description for the variable
- `is_read_only` (Boolean) is the variable read only
- `is_required` (Boolean) is the variable required
- `is_sensitive` (Boolean) should the variable value be hidden
- `regex` (String) the value of this variable must match provided regular expression (enforced only in env0 UI)
- `schema_enum` (List of String) a list of possible variable values
- `schema_format` (String) the variable format
- `schema_type` (String) the type the variable
- `type` (String) variable type (allowed values are: terraform, environment)


<a id="nestedblock--sub_environment_configuration"></a>
### Nested Schema for `sub_environment_configuration`

Required:

- `alias` (String) sub environment alias name
- `revision` (String) sub environment revision

Optional:

- `configuration` (Block List) sub environment configuration variables. Note: do not use with 'env0_configuration_variable' resource (see [below for nested schema](#nestedblock--sub_environment_configuration--configuration))
- `workspace` (String) sub environment workspace (overrides the configurtion in the yml file)

Read-Only:

- `id` (String) the id of the sub environment

<a id="nestedblock--sub_environment_configuration--configuration"></a>
### Nested Schema for `sub_environment_configuration.configuration`

Required:

- `name` (String) variable name
- `value` (String) variable value

Optional:

- `description` (String) description for the variable
- `is_read_only` (Boolean) is the variable read only
- `is_required` (Boolean) is the variable required
- `is_sensitive` (Boolean) should the variable value be hidden
- `regex` (String) the value of this variable must match provided regular expression (enforced only in env0 UI)
- `schema_enum` (List of String) a list of possible variable values
- `schema_format` (String) the variable format
- `schema_type` (String) the type the variable
- `type` (String) variable type (allowed values are: terraform, environment)



<a id="nestedblock--without_template_settings"></a>
### Nested Schema for `without_template_settings`

Required:

- `repository` (String) git repository url for the template source code

Optional:

- `bitbucket_client_key` (String) the bitbucket client key used for integration
- `description` (String) description for the template
- `file_name` (String) the cloudformation file name. Required if the template type is cloudformation
- `github_installation_id` (Number) the env0 application installation id on the relevant github repository
- `gitlab_project_id` (Number) the project id of the relevant repository
- `helm_chart_name` (String) the helm chart name. Required if is_helm_repository is set to 'true'
- `is_azure_devops` (Boolean) true if this template integrates with azure dev ops
- `is_bitbucket_server` (Boolean) true if this template uses bitbucket server repository
- `is_github_enterprise` (Boolean) true if this template uses github enterprise repository
- `is_gitlab_enterprise` (Boolean) true if this template uses gitlab enterprise repository
- `is_helm_repository` (Boolean) true if this template integrates with a helm repository
- `is_terragrunt_run_all` (Boolean) true if this template should execute run-all commands on multiple modules (check https://terragrunt.gruntwork.io/docs/features/execute-terraform-commands-on-multiple-modules-at-once/#the-run-all-command for additional details). Can only be true with "terragrunt" template type and terragrunt version 0.28.1 and above
- `opentofu_version` (String) the Opentofu version to use (example: 0.36.5)
- `path` (String) terraform / terragrunt file folder inside source code
- `retries_on_deploy` (Number) number of times to retry when deploying an environment based on this template
- `retries_on_destroy` (Number) number of times to retry when destroying an environment based on this template
- `retry_on_deploy_only_when_matches_regex` (String) if specified, will only retry (on deploy) if error matches specified regex
- `retry_on_destroy_only_when_matches_regex` (String) if specified, will only retry (on destroy) if error matches specified regex
- `revision` (String) source code revision (branch / tag) to use
- `ssh_keys` (List of Map of String) an array of references to 'data_ssh_key' to use when accessing git over ssh
- `terraform_version` (String) the Terraform version to use (example: 0.15.1). Setting to `RESOLVE_FROM_TERRAFORM_CODE` defaults to the version of `terraform.required_version` during run-time (resolve from terraform code). Setting to `latest`, the version used will be the most recent one available for Terraform.
- `terragrunt_version` (String) the Terragrunt version to use (example: 0.36.5)
- `token_id` (String) the git token id to be used
- `type` (String) template type (allowed values: terraform, terragrunt, pulumi, k8s, workflow, cloudformation, helm, opentofu)

Read-Only:

- `id` (String) id of the template

## Import

Import is supported using the following syntax:

```shell
terraform import env0_environment.by_id d31a6b30-5f69-4d24-937c-22322754934e
terraform import env0_environment.by_name "Example Environment"
```
