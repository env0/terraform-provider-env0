---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "env0_environment_discovery_configuration Resource - terraform-provider-env0"
subcategory: ""
description: |-
  See https://docs.env0.com/docs/environment-discovery for additional details
---

# env0_environment_discovery_configuration (Resource)

See https://docs.env0.com/docs/environment-discovery for additional details

## Example Usage

```terraform
data "env0_project" "project" {
  name = "existing-project"
}

resource "env0_project" "new_project" {
  name = "new-project"
}

resource "env0_environment_discovery_configuration" "example" {
  project_id             = data.env0_project.project.id
  glob_pattern           = "**"
  repository             = "https://github.com/env0/templates"
  opentofu_version       = "1.6.7"
  github_installation_id = 12345
}

resource "env0_environment_discovery_configuration" "terragrunt_example" {
  project_id             = env0_project.new_project.id
  glob_pattern           = "**"
  repository             = "https://github.com/env0/blueprints"
  type                   = "terragrunt"
  terraform_version      = "1.7.1"
  terragrunt_version     = "0.67.4"
  terragrunt_tf_binary   = "terraform"
  github_installation_id = 12345
}

resource "env0_environment_discovery_configuration" "discovery_file_example" {
  project_id       = data.env0_project.project.id
  repository_regex = "env0-example/.*|acme-corp/web.*|company/web-frontend"
}
```

<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `project_id` (String) the project id

### Optional

- `auto_deploy_by_custom_glob` (String) If specified, deploy/plan on changes matching the given pattern (glob). Otherwise, deploy on template folder changes only
- `bitbucket_client_key` (String) bitbucket client
- `create_new_environments_from_pull_requests` (Boolean) create new environments from pull requests (default: false)
- `environment_placement` (String) the environment placement strategy with the project.
- `github_installation_id` (Number) github repository id
- `gitlab_project_id` (Number, Deprecated) gitlab project id (deprecated)
- `glob_pattern` (String) the environments glob pattern. Any match to this pattern will result in an Environment creation and plan
- `is_azure_devops` (Boolean) set to true if azure devops is used
- `is_bitbucket_server` (Boolean) set to true if Bitbucket Server is used
- `is_github_enterprise` (Boolean) set to true if GitHub Enterprise is used
- `is_gitlab_enterprise` (Boolean) set to true if GitLab Enterprise is used
- `is_terragrunt_run_all` (Boolean) If set to 'true', execute terragrunt commands with 'run all' (default: false)
- `opentofu_version` (String) the Opentofu version to use (example: 1.6.1). Setting to `latest`, the version used will be the most recent one available for OpenTofu.
- `repository` (String) the repository to run discovery on
- `repository_regex` (String) Regex to select repositories for discovery-file configuration (enables discoveryFileConfiguration mode)
- `retries_on_deploy` (Number) number of times to retry when deploy fails (between 1 and 3)
- `retries_on_destroy` (Number) number of times to retry when destroy fails (between 1 and 3)
- `retry_on_deploy_only_when_matches_regex` (String) retry (on deploy) if error matches the specified regex
- `retry_on_destroy_only_when_matches_regex` (String) retry (on destroy) if error matches the specified regex
- `root_path` (String) start files Glob matching from this folder only
- `ssh_key_id` (String) The ssh key id that will be available during deployment
- `ssh_key_name` (String) The ssh key name that will be available during deployment
- `terraform_version` (String) the Terraform version to use (example: 1.7.4). Setting to `RESOLVE_FROM_TERRAFORM_CODE` defaults to the version of `terraform.required_version` during run-time (resolve from terraform code). Setting to `latest`, the version used will be the most recent one available for Terraform.
- `terragrunt_tf_binary` (String) The binary to use with Terragrunt. Valid values: 'opentofu' and 'terraform' (default: 'opentofu')
- `terragrunt_version` (String) the Terragrunt version to use (example: 0.52.0)
- `token_id` (String) a token id to be used with 'gitlab' or 'azure_devops'
- `type` (String) the infrastructure type use. Valid values: 'opentofu', 'terraform', 'terragrunt', 'workflow' (default: 'opentofu')
- `vcs_connection_id` (String) the VCS connection id to be used
- `workspace_naming` (String) the Workspace namimg strategy.

### Read-Only

- `id` (String) The ID of this resource.

## Import

Import is supported using the following syntax:

```shell
terraform import env0_environment_discovery_configuration.by_project_id 29b8037a-f877-48f5-a60b-3152ae1a1405
```
